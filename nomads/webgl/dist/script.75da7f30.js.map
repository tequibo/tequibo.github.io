{"version":3,"sources":["nomad_trippy.frag","dat.gui.module.js","script.js","../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["module","exports","___$insertStyle","css","window","style","document","createElement","setAttribute","innerHTML","head","appendChild","colorToString","color","forceCSSHex","colorFormat","__state","conversionName","toString","r","Math","round","g","b","a","h","s","toFixed","v","str","hex","length","ARR_EACH","Array","prototype","forEach","ARR_SLICE","slice","Common","BREAK","extend","target","each","call","arguments","obj","keys","isObject","Object","key","isUndefined","bind","defaults","compose","toCall","args","i","apply","itr","scope","l","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","delayed","callNow","clearTimeout","toArray","undefined","isNull","isNaN","_isNaN","_x","isArray","constructor","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","read","original","test","match","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","parseFloat","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","result","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","hi","floor","f","p","q","t","c","rgb_to_hsv","min","max","delta","NaN","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","value","_typeof","Symbol","iterator","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","get","object","property","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","inherits","subClass","superClass","create","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","Color","Error","toHexString","toOriginal","defineRGBComponent","component","componentHexIndex","get$$1","recalculateRGB","set","set$$1","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","domElement","__onChange","__onFinishChange","onChange","onFinishChange","setValue","newValue","updateDisplay","getValue","isModified","EVENT_MAP","HTMLEvents","MouseEvents","KeyboardEvents","EVENT_MAP_INV","k","e","CSS_VALUE_PIXELS","cssValueToPixels","val","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","position","left","right","top","bottom","fakeEvent","eventType","pars","aux","params","className","evt","createEvent","clientX","x","clientY","y","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","addEventListener","attachEvent","unbind","removeEventListener","detachEvent","addClass","classes","split","indexOf","push","join","replace","removeClass","removeAttribute","index","splice","hasClass","RegExp","getWidth","getComputedStyle","width","getHeight","height","getOffset","el","offset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","type","href","BooleanController","_Controller","_this2","_this","__prev","__checkbox","checked","OptionController","opts","options","__select","map","element","opt","desiredValue","selectedIndex","StringController","__input","onBlur","blur","numDecimals","NumberController","_params","__min","__max","__step","step","__impliedStep","pow","log","abs","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","_NumberController","__truncationSuspended","prevY","attempted","onFinish","onMouseDrag","diff","onMouseUp","onMouseDown","i1","i2","o1","o2","NumberControllerSlider","__background","__foreground","onTouchStart","preventDefault","bgRect","getBoundingClientRect","touches","onTouchMove","onTouchEnd","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","valueField","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","hueGradient","outline","textAlign","fontWeight","textShadow","fieldDown","fieldDownH","setSV","fieldUpSV","setH","fieldUpH","fieldRect","_ref","_ref2","mismatch","flip","_flip","marginLeft","marginTop","vendors","vendor","cssText","load","url","indoc","doc","link","rel","getElementsByTagName","inject","cssContent","injected","saveDialogContents","ControllerFactory","requestAnimationFrame","callback","requestAnimationFrame$1","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","show","webkitTransform","layout","innerWidth","innerHeight","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","setPresetSelectIndex","revert","setWidth","name","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","onClickTitle","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","stringify","getSaveObject","saveToLocalStorageIfPossible","resetWidth","root","toggleHide","gui","CLASS_CONTROLLER_ROW","CLASS_TOO_TALL","CLASS_DRAG","_keydownHandler","which","add","_add","factoryArgs","addColor","remove","controller","removeChild","__li","destroy","subfolder","removeFolder","removeListeners","addFolder","newGuiParams","folders","li","folder","parentElement","open","close","node","__save_row","__resize_handle","offsetHeight","remember","addSaveMenu","remembered","getCurrentPreset","save","markPresetModified","saveAs","presetName","addPresetOption","recallSavedValue","listen","updateDisplays","newDom","liBefore","modified","__preset_select","augmentController","__gui","_options","nextSibling","nextElementSibling","before","_nextSibling","_name","firstElementChild","box","method","pc","pb","returned","oldName","wasListening","newController","stopPropagation","borderLeftColor","matchedIndex","controllerMap","presetMap","concat","container","location","setSelected","showHideExplain","explain","div","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","prompt","pmouseX","drag","dragStop","dragStart","w","useInitialValues","savedValues","controllerArray","math","controllers","dom$1","GUI$1","createShader","gl","source","shader","shaderSource","compileShader","success","getShaderParameter","COMPILE_STATUS","console","getShaderInfoLog","deleteShader","createProgram","vertexShader","fragmentShader","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","canvas","querySelector","getContext","resize","uniform2f","resolutionUniformLocation","vertexShaderSource","fragmentShaderSource","nomad_shader","VERTEX_SHADER","FRAGMENT_SHADER","positionAttributeLocation","getAttribLocation","colorUniformLocation","getUniformLocation","timeUniformLocation","rotation_xUniformLocation","eyebrow_angleUniformLocation","eyebrow_weightUniformLocation","eyebrow_offsetUniformLocation","eye_spaceUniformLocation","eye_sizeUniformLocation","eye_variantUniformLocation","iris_scaleUniformLocation","mouth_curveUniformLocation","head_patternUniformLocation","body_patternUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","viewport","useProgram","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","uniform3f","random","time_old","draw","time","dt","clearColor","clear","COLOR_BUFFER_BIT","uniform1f","rotation_hor","settings","eyebrow_angle","eyebrow_weight","eyebrow_offset","eye_space","eye_size","eye_variant","iris_scale","mouth_curve","head_pattern","body_pattern","drawArrays","TRIANGLES","dat","randomize","Randomize","rr","mouse","rotation_hor_prev","mouseHold","touch_pos","delta_x","onMouseMove","onTouch","onTouchUp","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","d","dep","deps","cached","cache","some","cb"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["module.exports=\"#ifdef GL_ES\\nprecision highp float;\\n#define GLSLIFY 1\\n#endif\\n#define TAU 6.28318530718\\n// const uint k = 1103515245U;  // GLIB C\\n//const uint k = 134775813U;   // Delphi and Turbo Pascal\\n//const uint k = 20170906U;    // Today's date (use three days ago's dateif you want a prime)\\n//const uint k = 1664525U;     // Numerical Recipes\\n\\nuniform vec2 u_resolution;\\nuniform vec2 u_mouse;\\nuniform float u_time;\\nuniform float u_rotation;\\n\\nuniform float eyebrow_angle;\\nuniform float eyebrow_weight;\\nuniform float eyebrow_offset;\\nuniform float iris_scale;\\nuniform float eye_space;\\nuniform float eye_size;\\nuniform float eye_variant;\\nuniform float head_pattern;\\nuniform float body_pattern;\\nuniform float mouth_variant;\\nuniform float mouth_curve;\\nvec3 oklab_mix( vec3 colA, vec3 colB, float h )\\n{\\n    // https://bottosson.github.io/posts/oklab\\n    const mat3 kCONEtoLMS = mat3(                \\n         0.4121656120,  0.2118591070,  0.0883097947,\\n         0.5362752080,  0.6807189584,  0.2818474174,\\n         0.0514575653,  0.1074065790,  0.6302613616);\\n    const mat3 kLMStoCONE = mat3(\\n         4.0767245293, -1.2681437731, -0.0041119885,\\n        -3.3072168827,  2.6093323231, -0.7034763098,\\n         0.2307590544, -0.3411344290,  1.7068625689);\\n                    \\n    // rgb to cone (arg of pow can't be negative)\\n    vec3 lmsA = pow( kCONEtoLMS*colA, vec3(1.0/3.0) );\\n    vec3 lmsB = pow( kCONEtoLMS*colB, vec3(1.0/3.0) );\\n    // lerp\\n    vec3 lms = mix( lmsA, lmsB, h );\\n    // gain in the middle (no oaklab anymore, but looks better?)\\n // lms *= 1.0+0.2*h*(1.0-h);\\n    // cone to rgb\\n    return kLMStoCONE*(lms*lms*lms);\\n}\\nfloat rand(vec2 uv){\\n    return fract(sin(dot(uv.xy ,vec2(12.9898,78.233))) * 43758.5453);\\n}\\n/* Math 2D Transformations */\\nmat2 rotate2d(in float angle){\\n    return mat2(cos(angle),-sin(angle), \\n                sin(angle), cos(angle));\\n}\\n\\nfloat box(vec2 p, vec2 R){\\n    float d = length(max(abs(p)-R,0.));\\n    return d;\\n}\\n\\nfloat sdCross( in vec2 p, in vec2 b, float r ) \\n{\\n    p = abs(p); p = (p.y>p.x) ? p.yx : p.xy;\\n    vec2  q = p - b;\\n    float k = max(q.y,q.x);\\n    vec2  w = (k>0.0) ? q : vec2(b.y-p.x,-k);\\n    return sign(k)*length(max(w,0.0)) + r;\\n}\\n\\nfloat sdCapsule( vec3 p, vec3 a, vec3 b, float r )\\n{\\n  vec3 pa = p - a, ba = b - a;\\n  float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\\n  return length( pa - ba*h ) - r;\\n}\\nfloat sdSphere( vec3 p, float s )\\n{\\n  return length(p)-s;\\n}\\nfloat sdRoundCone( vec3 p, float r1, float r2, float h )\\n{\\n  vec2 q = vec2( length(p.xz), p.y );\\n    \\n  float b = (r1-r2)/h;\\n  float a = sqrt(1.0-b*b);\\n  float k = dot(q,vec2(-b,a));\\n    \\n  if( k < 0.0 ) return length(q) - r1;\\n  if( k > a*h ) return length(q-vec2(0.0,h)) - r2;\\n        \\n  return dot(q, vec2(a,b) ) - r1;\\n}\\nfloat sdBox( vec3 p, vec3 b )\\n{\\n  vec3 q = abs(p) - b;\\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\\n}\\nfloat sdRoundBox( vec3 p, vec3 b, float r )\\n{\\n  vec3 q = abs(p) - b;\\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0) - r;\\n}\\nfloat sdPlane( vec3 p, vec3 n, float h )\\n{\\n  // n must be normalized\\n  return dot(p,n) + h;\\n}\\nfloat sdTriPrism(vec3 p, vec2 h) {\\n  vec3 q = abs(p);\\n  return max(q.z - h.y, max(q.x * 0.866025 + p.y * 0.5, -p.y) - h.x * 0.5);\\n}\\nfloat sdCone( in vec3 p, in vec2 c, float h ) {\\n  // c is the sin/cos of the angle, h is height\\n  // Alternatively pass q instead of (c,h),\\n  // which is the point at the base in 2D\\n  vec2 q = h*vec2(c.x/c.y,-1.0);    \\n  vec2 w = vec2( length(p.xz), p.y );\\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\\n  float k = sign( q.y );\\n  float d = min(dot( a, a ),dot(b, b));\\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\\n  return sqrt(d)*sign(s);\\n}\\n\\nfloat sdEllipsoid( vec3 p, vec3 r )\\n{\\n  float k0 = length(p/r);\\n  float k1 = length(p/(r*r));\\n  return k0*(k0-1.0)/k1;\\n}\\nfloat opSmoothUnion( float d1, float d2, float k )\\n{\\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\\n    return mix( d2, d1, h ) - k*h*(1.0-h);\\n}\\nfloat opSmoothSubtraction( float d1, float d2, float k ) {\\n    float h = clamp( 0.5 - 0.5*(d2+d1)/k, 0.0, 1.0 );\\n    return mix( d2, -d1, h ) + k*h*(1.0-h); }\\n\\nfloat opSmoothIntersection( float d1, float d2, float k ) {\\n    float h = clamp( 0.5 - 0.5*(d2-d1)/k, 0.0, 1.0 );\\n    return mix( d2, d1, h ) + k*h*(1.0-h); }\\n\\nvec2 opUnion( float d1, float d2, float m ) { \\n    return vec2(min(d1,d2)); \\n}\\nvec2 opU(vec2 d1, vec2 d2)\\n{\\n    return (d1.x < d2.x) ? d1 : d2;\\n}\\nfloat opSubtraction( float d1, float d2 ) { return max(-d1,d2); }\\n\\nfloat opIntersection( float d1, float d2 ) { return max(d1,d2); }\\n\\nvec2 map(vec3 point){\\n    vec2 dist_mat = vec2(0);    \\n    vec3 p = point;\\n    // p.xz = p.xz*rotate2d(-TAU*sin(u_time)*.1);\\n    p=point;\\n    vec3 head_p = p;\\n    // head_p.x*=.8;    \\n    // float head = sdSphere(head_p, .5);\\n    vec2 head = vec2(sdEllipsoid(head_p, vec3(.6,.5,.5)),1.);\\n    vec3 body_p = p-vec3(0.,0.0,0.);\\n    body_p.y+=0.55;\\n    body_p.x*=.9;\\n    body_p.y*=1.2;\\n    float a_body = TAU*.025;\\n    float a_body2 = TAU*.03;\\n    float body1 = sdCone(body_p,vec2(sin(a_body), cos(a_body)),0.5)-.1;\\n    body_p.z*=2.;\\n    body_p.x*=0.9;\\n    body_p.y*=3.;\\n    float body2 = sdCone(body_p,vec2(sin(a_body2), cos(a_body2)),1.0)-.2;\\n    // vec2 body = vec2(opSmoothUnion(body1,body2,.3),3.0);\\n    vec2 body = vec2(body1,2.0);\\n    vec3 leg_p = p;\\n    leg_p.x=abs(leg_p.x);\\n    leg_p.x-=0.14;\\n    leg_p.y+=1.2;\\n    // leg_p.z+=.1;\\n    // leg_p.z-=sin(leg_p.y*1.)*.1;\\n    leg_p.xy=leg_p.xy*rotate2d(TAU*.5);\\n    float a_leg = TAU*.03;\\n    vec2 leg = vec2(sdCone(leg_p,vec2(sin(a_leg), cos(a_leg)),0.2),2.0);\\n    vec3 arm_p = p;\\n    arm_p.x=abs(arm_p.x);\\n    // arm_p.xy=arm_p.xy*rotate2d(TAU*.75);\\n    arm_p.x+=-0.35;\\n    arm_p.y+=0.9;\\n    arm_p.xy=arm_p.xy*rotate2d(TAU*.3);\\n    arm_p.x-=sin(arm_p.y*2.5-0.2)*.3;\\n    float a_arm = TAU*.02;\\n    vec2 arm = vec2(sdCone(arm_p,vec2(sin(a_arm), cos(a_arm)),0.4),2.0);\\n    // body_p.xy=body_p.xy*rotate2d(TAU*.5);\\n    // vec2 body = vec2(sdRoundCone(body_p,0.3,0.19,.5),3.0);\\n    vec3 mouth_p = p-vec3(0.,-0.2,0.5);\\n    vec2 mouth = vec2(sdSphere(mouth_p, .1),2.);\\n    vec3 nose_p = p+vec3(0.,0.05,-0.45);\\n    nose_p.y*=.9;\\n    // vec2 nose = vec2(opSmoothUnion(sdBox(nose_p,vec3(.0051)), sdSphere(nose_p,.001),.9),2.);\\n    // vec2 nose = vec2(sdBox(nose_p,vec3(.05,.1,.05)),2.);\\n    vec2 nose = vec2(sdSphere(nose_p,.08),2.);\\n    dist_mat = opU(nose, head);\\n    dist_mat = opU(head, body);\\n    dist_mat = opU(dist_mat, leg);\\n    dist_mat = opU(dist_mat, arm);\\n    // dist_mat=arm;\\n    // dist_mat = opSubtraction(mouth, dist_mat);    \\n    return dist_mat;\\n}\\n\\nvec2 rayMarch(vec3 rayOrigin, vec3 rayDirection){\\n    float rayLength=0.;\\n    vec2 dist_mat = vec2(0);\\n    for(int i=0;i<55;i++){\\n        vec3 point = rayOrigin+rayDirection*rayLength;\\n        dist_mat = map(point);\\n        rayLength+=dist_mat.x;\\n        if(abs(dist_mat.x)<.001 || rayLength>5.0){\\n            break;\\n        }\\n    }\\n    return vec2(rayLength, dist_mat.y);\\n}\\n\\nvec3 getNormal(vec3 point){\\n    float dist = map(point).x;\\n    vec2 e = vec2(.01, 0);\\n    vec3 n = dist - vec3(\\n        map(point-e.xyy).x,\\n        map(point-e.yxy).x,\\n        map(point-e.yyx).x);\\n    return normalize(n);    \\n}\\n\\nvec3 getLight(vec3 point, vec3 position, vec3 color){\\n    vec3 lightDirection = normalize(position - point);\\n    vec3 normal = getNormal(point);\\n    vec3 diffuse = vec3(clamp(dot(normal, lightDirection),0.,1.));\\n    diffuse = diffuse*color;\\n    vec3 p = point;\\n    return diffuse;\\n}\\nmat3 setCamera(in vec3 ro, in vec3 ta, float cr){\\n    vec3 cw = normalize(ta-ro);\\n    vec3 cp = vec3(sin(cr), cos(cr),0.0);\\n    vec3 cu = normalize( cross(cw,cp) );\\n    vec3 cv =          ( cross(cu,cw) );\\n    return mat3( cu, cv, cw );\\n}\\nvec3 getColor(vec2 uv){    \\n    // vec3 ro = vec3(0., 0., -1.);  \\n    // float angle = -TAU*u_time*.4;\\n    // float angle = sin(-TAU*u_time*.2)-TAU*.8;\\n    float angle =TAU*.25+u_rotation;//u_mouse.x/u_resolution.x*TAU+TAU*.25;\\n    vec3 target = vec3( 0., -0.5, 0. );\\n    // vec3 ro = target + vec3( 2.*cos(angle), .3, 2.*sin(angle));\\n    vec3 ro = target + vec3(2.*cos(angle), .3, 2.*sin(angle));\\n    // vec3 ro = target + vec3( 0, .50, 2.);\\n    mat3 cam = setCamera(ro, target, 0.);\\n    // focal length\\n    const float fl = 1.2;\\n    vec3 rd = cam * normalize(vec3(uv,fl));\\n    vec3 light1Pos = vec3(-2., 1.3, 1.5);\\n    vec2 d_m = rayMarch(ro, rd);\\n    vec3 p = ro+rd*d_m.x;\\n    vec3 dif1 = getLight(p, light1Pos, vec3(1));\\n    // dif1=smoothstep(0.2,1.,dif1);      \\n\\n    // vec3 lightDirection = normalize(light1Pos - p);\\n    // vec3 h = normalize (-rd + lightDirection);\\n    // float specular = pow (max (.0, dot (getNormal(p), h)), 222.2);\\n    vec3 col = vec3(0.0667, 0.5216, 0.5804);\\n\\n    if(d_m.y==1.0){//head\\n        \\n        if(head_pattern==0.){\\n            col=abs(vec3(\\n        (cos(p.y*5.+(u_time*.5)*1.5)),\\n        (cos(p.y*5.+(u_time*1.5)*1.5)),\\n        (cos(p.y*1.+(u_time*.5)*1.5))));\\n        }\\n        if(head_pattern==1.){\\n            col=vec3(0.075, 0.7647, 0.95);\\n\\n        }\\n        if(head_pattern==2.){\\n            col=vec3(p.y*2., 1.0706, 0.0706);\\n        }\\n        //gradient y\\n        if(head_pattern==3.){\\n            col=oklab_mix(vec3(0.1216, 0.6235, 0.6392), vec3(0.9529, 0.1882, 0.4824),p.y*2.+0.5);\\n        }\\n        if(head_pattern==4.){\\n            col=vec3(\\n            cos(p.y*23.-p.x*23.+(u_time*1.1)*TAU), \\n            cos(p.y*23.-p.x*23.+(u_time*1.)*TAU), \\n            cos(p.y*23.-p.x*23.+(u_time*1.)*TAU));\\n        }\\n        if(head_pattern==5.){\\n            float cc = cos(p.y*33.+u_time*5.+sin(u_time*10.));\\n            cc = smoothstep(0.,0.1,cc);           \\n            col=oklab_mix(vec3(0.0235, 0.6863, 0.7216), vec3(0.8941, 0.0, 0.3255),cc);\\n        }\\n        if(head_pattern==6.){\\n            float cc = cos(cos(p.x*33.)+u_time*5.+sin(u_time*10.));\\n            cc = smoothstep(0.,0.1,cc);           \\n            col=oklab_mix(vec3(0.7216, 0.0235, 0.4314), vec3(0.8863, 0.8392, 0.8588),cc);\\n        }\\n        if(head_pattern==7.){\\n            col=vec3(sin(u_time*2.), sin(u_time*.1), sin(u_time*.2));\\n        }\\n        if(head_pattern==8.){\\n            col=vec3(\\n            cos(p.y*3.*p.x*3.+(u_time*.1)*TAU), \\n            cos(p.y*3.*p.x*3.+(u_time*.2)*TAU), \\n            cos(p.y*3.*p.x*3.+(u_time*1.)*TAU));\\n            col=abs(col);\\n        }\\n        if(head_pattern==9.){\\n            float cc = cos(p.y*3.+u_time*3.+sin(u_time*6.+p.x));\\n            cc = smoothstep(0.,0.01,cc);           \\n            col=oklab_mix(vec3(0.1804, 0.9333, 1.0), vec3(0.9804, 0.0039, 0.3608),cc);\\n        }\\n        if(head_pattern==10.){\\n            float cc = cos(p.x*15.+sin(u_time*3.+p.y*4.)-u_time*5.);\\n            cc = smoothstep(0.,0.01,cc); \\n            float cc2 = cos(p.x*15.+sin(u_time*3.+p.y*4.)+u_time*5.);\\n            cc2 = smoothstep(0.,0.01,cc2);       \\n            col=vec3(cc,cc2,cc2); \\n        }\\n                \\n            // col=abs(col);\\n            // col=oklab_mix(vec3(0.7137, 0.0275, 0.0275), vec3(1.0, 0.0118, 0.8353),cc);\\n            \\n        // float c = length(p.xy)-.1;\\n        if(p.z>0.){\\n            vec2 po = getNormal(p).xy;\\n            vec2 po2 = getNormal(p).xy;\\n            // vec2 po3 = getNormal(p).xy;\\n            po.x=abs(po.x);\\n            po.x-=1.*eye_space;\\n            po.y+=.06;\\n            po.x*=1.4;\\n            po2.y+=.6;\\n            po2.y+=sin(po2.x*9.0*mouth_curve-4.7)*0.1;//pow(po2.x,4.)*5.;\\n            float eyebrows = box((po+vec2(0.0,-0.4+eyebrow_offset))*rotate2d(-TAU*eyebrow_angle),vec2(.2,0.05*eyebrow_weight));\\n\\n            float whites = length(po)-.3*eye_size;//whites\\n\\n            float iris= length(po)-.25*iris_scale*eye_size;\\n            //circle\\n            if(eye_variant==0.){\\n                iris = length(po)-.25*iris_scale*eye_size;\\n            }\\n            //cross rotating\\n            if(eye_variant==1.){\\n                po = po*rotate2d(TAU*u_time*.2);\\n                iris = sdCross(po,vec2(0.2*iris_scale*eye_size,0.06*iris_scale*eye_size),0.);\\n            }\\n            //square rotating\\n            if(eye_variant==2.){      \\n                po = po*rotate2d(TAU*u_time*.2);\\n                iris = box(po,vec2(.18*iris_scale*eye_size,.18*iris_scale*eye_size));\\n            }\\n            //circle pulsing\\n            if(eye_variant==3.){\\n                iris = length(po)-.25*iris_scale*eye_size*(.5+sin(u_time*30.)*.25);\\n            }\\n            //hor rect\\n            if(eye_variant==4.){\\n                iris = box(po,vec2(.18*iris_scale*eye_size,.1*iris_scale*eye_size));\\n            }\\n            //vert rect\\n            if(eye_variant==5.){\\n                iris = box(po,vec2(.1*iris_scale*eye_size,.2*iris_scale*eye_size));\\n            }\\n            float mouth = box(po2,vec2(.1,.02));\\n\\n            whites = 1.0-smoothstep(0.,.01,whites);\\n            iris = smoothstep(0.,.01,iris);\\n            mouth = smoothstep(0.,.01,mouth);\\n            eyebrows= smoothstep(0.,.01,eyebrows);\\n\\n            vec3 eyes_col=vec3(whites);\\n            vec3 eyes_col2=vec3(iris);\\n            vec3 mouth_col=vec3(mouth);\\n            vec3 eyebrows_col=vec3(eyebrows);\\n            // eyes_col=min(eyes_col2,eyes_col);\\n            col = max(col,eyes_col);\\n            // col+=eyes_col;\\n            col*=eyes_col2;\\n            col*=mouth_col;\\n            col*=eyebrows_col;\\n        }\\n        // col=mix(col, vec3(0.0235, 0.6235, 0.9725),p.y*3.+1.);\\n        // col=mix(vec3(0.5529, 0.0275, 0.2745), vec3(0.0235, 0.6235, 0.9725),dif1.r);\\n    }\\n    //body\\n    if(d_m.y==2.0){\\n        col=vec3(0.0392, 0.0, 0.0196);\\n        //diagonal\\n        if(body_pattern==.0){\\n            col=vec3(\\n            cos(p.y*23.+p.x*23.+(u_time*5.1)*TAU), \\n            cos(p.y*23.+p.x*23.+(u_time*5.)*TAU), \\n            cos(p.y*23.+p.x*23.+(u_time*5.)*TAU));\\n        }\\n        //gradient y\\n        if(body_pattern==1.0){\\n            col=oklab_mix(vec3(0.0392, 0.2549, 0.8549), vec3(0.0118, 0.6667, 0.6353),p.y*3.+3.0);\\n\\n        }\\n        //stripes horizontal\\n        if(body_pattern==2.0){\\n            float cc = sin(p.y*33.+u_time*15.)-.8;\\n            cc = smoothstep(0.,0.1,cc);\\n            col=vec3(0., cc, cc);\\n        }\\n        if(body_pattern==3.0){\\n            col=oklab_mix(vec3(0.8549, 0.0392, 0.2157), vec3(0.0118, 0.6667, 0.6353),p.y*3.+3.0);\\n        }\\n        if(body_pattern==4.0){\\n            col=abs(vec3(\\n            cos(p.y*23.+p.x*23.+(u_time*1.1)*TAU), \\n            cos(p.y*23.-p.x*3.+(u_time*2.)*TAU), \\n            cos(p.y*23.+(u_time*3.)*TAU)));\\n        }\\n        if(body_pattern==5.0){\\n            float cc = sin(p.y*13.+u_time*5.+sin(u_time*5.));\\n            float cc2 = sin(p.y*5.+u_time*5.);\\n            float cc3 = sin(p.y*3.+u_time*5.);\\n            cc = smoothstep(0.,0.1,cc);\\n            cc2 = smoothstep(0.,0.1,cc2);\\n            cc3 = smoothstep(0.,0.1,cc3);\\n            col=vec3(cc, cc2, cc2);\\n        }\\n        if(body_pattern==6.0){\\n            col=oklab_mix(vec3(0.8549, 0.0392, abs(sin(u_time*5.))), vec3(0.0118, 0.6667, abs(sin(u_time*2.))),p.y*3.+3.0);\\n        }\\n        if(body_pattern==7.0){\\n            col=abs(vec3(\\n            cos(sin(p.y*3.)-cos(p.x*23.)+(u_time*.1)*TAU), \\n            cos(p.y*3.-sin(p.x*23.)+(u_time*.1)*TAU), \\n            cos(cos(p.y*3.)-(u_time*.1)*TAU)));\\n        }\\n        if(body_pattern==8.0){\\n            float cc = sin(p.y*33.+u_time*5.+sin(u_time*10.))-.8;\\n            cc = smoothstep(0.,0.1,cc);\\n            float cc2 = sin(p.y*33.-u_time*5.+sin(u_time*10.))-.8;\\n            cc2 = smoothstep(0.,0.1,cc2);\\n            col=vec3(cc, cc2, cc2);\\n        }\\n        if(body_pattern==9.0){\\n            float cc = sin(p.y*33.+p.x*33.+sin(p.y*233.+u_time*10.)+u_time*15.+sin(u_time*10.))-.8;\\n            cc = smoothstep(0.,0.1,cc);\\n            float cc2 = sin(p.y*33.+p.x*33.+cos(p.y*133.-u_time*10.)-u_time*5.+sin(u_time*20.))-.8;\\n            cc2 = smoothstep(0.,0.1,cc2);\\n            col=vec3(cc, cc2, cc2);\\n        }\\n        if(body_pattern==10.0){\\n            float cc = sin(p.y*33.+u_time*15.)-.4;\\n            cc = smoothstep(0.,0.3,cc);\\n            // col=vec3(cc, 0., 0.);\\n            col=oklab_mix(vec3(0.7059, 0.0, 0.1412), vec3(0.0, 0.8588, 0.7882),cc);\\n        }\\n        if(body_pattern==11.0){\\n             float cc = cos(cos(p.y*53.)+cos(p.x*53.)+u_time*15.+sin(u_time*10.));\\n            cc = smoothstep(0.,0.1,cc);\\n           \\n            col=oklab_mix(vec3(0.5843, 0.7804, 0.0392), vec3(0.0, 0.0, 0.0),cc);\\n        }\\n         \\n\\n    }\\n    //background\\n    if(d_m.x>3.){\\n        float gr = length(uv*.5);\\n        col=oklab_mix(vec3(0.1412, 0.6549, 0.8941),vec3(0.102, 0.0039, 0.0157),gr);\\n    }\\n    \\n    vec3 normal = getNormal(p);\\n    // col += clamp(dot(normal, vec3(0.7922, 0.1137, 0.4863))*1.5,0.,1.);\\n    // col += clamp(dot(normal, vec3(0,-1,0))*.2,0.,1.);\\n    float startDist = 1.1;\\n    float fogAmount = 1.0 - exp(-d_m.x * (1.0/startDist));\\n    //1.0-exp( -0.0001*d*d*d )\\n    //  col=mix(col,vec3(0.9882, 0.9882, 0.9882),fogAmount);\\n    return col; \\n}\\nvoid main() {    \\n    vec2 R = u_resolution.xy;\\n    vec2 uv = (2.*gl_FragCoord.xy-R)/R.y;\\n    vec3 col = vec3(0.0, 0.0, 0.0);\\n    col = getColor(uv);\\n    // const float AA_size = 2.0;\\n    // float count = 0.0;\\n    // for (float aaY = 0.0; aaY < AA_size; aaY++)\\n    // {\\n    //     for (float aaX = 0.0; aaX < AA_size; aaX++)\\n    //     {\\n    //         col += getColor(uv + vec2(aaX/R.x, aaY/R.x) / AA_size);\\n    //         count += 1.0;\\n    //     }\\n    // }\\n    // col /= count;\\n    col = pow(col, vec3(0.45));\\n    // fragColor=vec4(mix(col,vec3(0.4196, 0.0353, 0.5686),normal), 1.);\\n    gl_FragColor=vec4(col, 1.);\\n}\";","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n\n  return css;\n}\n\nfunction colorToString (color, forceCSSHex) {\n  var colorFormat = color.__state.conversionName.toString();\n  var r = Math.round(color.r);\n  var g = Math.round(color.g);\n  var b = Math.round(color.b);\n  var a = color.a;\n  var h = Math.round(color.h);\n  var s = color.s.toFixed(1);\n  var v = color.v.toFixed(1);\n  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {\n    var str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n  return 'unknown format';\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n  BREAK: {},\n  extend: function extend(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  defaults: function defaults(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  compose: function compose() {\n    var toCall = ARR_SLICE.call(arguments);\n    return function () {\n      var args = ARR_SLICE.call(arguments);\n      for (var i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n  each: function each(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) {\n      var key = void 0;\n      var l = void 0;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (var _key in obj) {\n        if (itr.call(scope, obj[_key], _key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n  defer: function defer(fnc) {\n    setTimeout(fnc, 0);\n  },\n  debounce: function debounce(func, threshold, callImmediately) {\n    var timeout = void 0;\n    return function () {\n      var obj = this;\n      var args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n      var callNow = callImmediately || !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n  toArray: function toArray(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n  isUndefined: function isUndefined(obj) {\n    return obj === undefined;\n  },\n  isNull: function isNull(obj) {\n    return obj === null;\n  },\n  isNaN: function (_isNaN) {\n    function isNaN(_x) {\n      return _isNaN.apply(this, arguments);\n    }\n    isNaN.toString = function () {\n      return _isNaN.toString();\n    };\n    return isNaN;\n  }(function (obj) {\n    return isNaN(obj);\n  }),\n  isArray: Array.isArray || function (obj) {\n    return obj.constructor === Array;\n  },\n  isObject: function isObject(obj) {\n    return obj === Object(obj);\n  },\n  isNumber: function isNumber(obj) {\n    return obj === obj + 0;\n  },\n  isString: function isString(obj) {\n    return obj === obj + '';\n  },\n  isBoolean: function isBoolean(obj) {\n    return obj === false || obj === true;\n  },\n  isFunction: function isFunction(obj) {\n    return obj instanceof Function;\n  }\n};\n\nvar INTERPRETATIONS = [\n{\n  litmus: Common.isString,\n  conversions: {\n    THREE_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    SIX_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9]{6})$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGB: {\n      read: function read(original) {\n        var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3])\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGBA: {\n      read: function read(original) {\n        var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3]),\n          a: parseFloat(test[4])\n        };\n      },\n      write: colorToString\n    }\n  }\n},\n{\n  litmus: Common.isNumber,\n  conversions: {\n    HEX: {\n      read: function read(original) {\n        return {\n          space: 'HEX',\n          hex: original,\n          conversionName: 'HEX'\n        };\n      },\n      write: function write(color) {\n        return color.hex;\n      }\n    }\n  }\n},\n{\n  litmus: Common.isArray,\n  conversions: {\n    RGB_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 3) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b];\n      }\n    },\n    RGBA_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 4) return false;\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2],\n          a: original[3]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b, color.a];\n      }\n    }\n  }\n},\n{\n  litmus: Common.isObject,\n  conversions: {\n    RGBA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b,\n          a: color.a\n        };\n      }\n    },\n    RGB_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b\n        };\n      }\n    },\n    HSVA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v,\n          a: color.a\n        };\n      }\n    },\n    HSV_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v\n        };\n      }\n    }\n  }\n}];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n  toReturn = false;\n  var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];\n  Common.each(INTERPRETATIONS, function (family) {\n    if (family.litmus(original)) {\n      Common.each(family.conversions, function (conversion, conversionName) {\n        result = conversion.read(original);\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return Common.BREAK;\n        }\n      });\n      return Common.BREAK;\n    }\n  });\n  return toReturn;\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n  hsv_to_rgb: function hsv_to_rgb(h, s, v) {\n    var hi = Math.floor(h / 60) % 6;\n    var f = h / 60 - Math.floor(h / 60);\n    var p = v * (1.0 - s);\n    var q = v * (1.0 - f * s);\n    var t = v * (1.0 - (1.0 - f) * s);\n    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n  rgb_to_hsv: function rgb_to_hsv(r, g, b) {\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n    var delta = max - min;\n    var h = void 0;\n    var s = void 0;\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n  rgb_to_hex: function rgb_to_hex(r, g, b) {\n    var hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n  component_from_hex: function component_from_hex(hex, componentIndex) {\n    return hex >> componentIndex * 8 & 0xFF;\n  },\n  hex_with_component: function hex_with_component(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);\n  }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Color = function () {\n  function Color() {\n    classCallCheck(this, Color);\n    this.__state = interpret.apply(this, arguments);\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n    this.__state.a = this.__state.a || 1;\n  }\n  createClass(Color, [{\n    key: 'toString',\n    value: function toString() {\n      return colorToString(this);\n    }\n  }, {\n    key: 'toHexString',\n    value: function toHexString() {\n      return colorToString(this, true);\n    }\n  }, {\n    key: 'toOriginal',\n    value: function toOriginal() {\n      return this.__state.conversion.write(this);\n    }\n  }]);\n  return Color;\n}();\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n      Color.recalculateRGB(this, component, componentHexIndex);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n      Color.recalculateHSV(this);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nColor.recalculateRGB = function (color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\nColor.recalculateHSV = function (color) {\n  var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);\n  Common.extend(color.__state, {\n    s: result.s,\n    v: result.v\n  });\n  if (!Common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (Common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\nObject.defineProperty(Color.prototype, 'a', {\n  get: function get$$1() {\n    return this.__state.a;\n  },\n  set: function set$$1(v) {\n    this.__state.a = v;\n  }\n});\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function get$$1() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n    return this.__state.hex;\n  },\n  set: function set$$1(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nvar Controller = function () {\n  function Controller(object, property) {\n    classCallCheck(this, Controller);\n    this.initialValue = object[property];\n    this.domElement = document.createElement('div');\n    this.object = object;\n    this.property = property;\n    this.__onChange = undefined;\n    this.__onFinishChange = undefined;\n  }\n  createClass(Controller, [{\n    key: 'onChange',\n    value: function onChange(fnc) {\n      this.__onChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'onFinishChange',\n    value: function onFinishChange(fnc) {\n      this.__onFinishChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(newValue) {\n      this.object[this.property] = newValue;\n      if (this.__onChange) {\n        this.__onChange.call(this, newValue);\n      }\n      this.updateDisplay();\n      return this;\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.object[this.property];\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      return this;\n    }\n  }, {\n    key: 'isModified',\n    value: function isModified() {\n      return this.initialValue !== this.getValue();\n    }\n  }]);\n  return Controller;\n}();\n\nvar EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\nvar EVENT_MAP_INV = {};\nCommon.each(EVENT_MAP, function (v, k) {\n  Common.each(v, function (e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels(val) {\n  if (val === '0' || Common.isUndefined(val)) {\n    return 0;\n  }\n  var match = val.match(CSS_VALUE_PIXELS);\n  if (!Common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n  return 0;\n}\nvar dom = {\n  makeSelectable: function makeSelectable(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n    elem.onselectstart = selectable ? function () {\n      return false;\n    } : function () {};\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n  makeFullscreen: function makeFullscreen(elem, hor, vert) {\n    var vertical = vert;\n    var horizontal = hor;\n    if (Common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n    if (Common.isUndefined(vertical)) {\n      vertical = true;\n    }\n    elem.style.position = 'absolute';\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {\n    var params = pars || {};\n    var className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    var evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n          0,\n          clientX,\n          clientY,\n          false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          var init = evt.initKeyboardEvent || evt.initKeyEvent;\n          Common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    Common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n  bind: function bind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  unbind: function unbind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  addClass: function addClass(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      var classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n  removeClass: function removeClass(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        var classes = elem.className.split(/ +/);\n        var index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n  hasClass: function hasClass(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n  getWidth: function getWidth(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);\n  },\n  getHeight: function getHeight(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);\n  },\n  getOffset: function getOffset(el) {\n    var elem = el;\n    var offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n  isActive: function isActive(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n};\n\nvar BooleanController = function (_Controller) {\n  inherits(BooleanController, _Controller);\n  function BooleanController(object, property) {\n    classCallCheck(this, BooleanController);\n    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__prev = _this2.getValue();\n    _this2.__checkbox = document.createElement('input');\n    _this2.__checkbox.setAttribute('type', 'checkbox');\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n    dom.bind(_this2.__checkbox, 'change', onChange, false);\n    _this2.domElement.appendChild(_this2.__checkbox);\n    _this2.updateDisplay();\n    return _this2;\n  }\n  createClass(BooleanController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      this.__prev = this.getValue();\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (this.getValue() === true) {\n        this.__checkbox.setAttribute('checked', 'checked');\n        this.__checkbox.checked = true;\n        this.__prev = true;\n      } else {\n        this.__checkbox.checked = false;\n        this.__prev = false;\n      }\n      return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return BooleanController;\n}(Controller);\n\nvar OptionController = function (_Controller) {\n  inherits(OptionController, _Controller);\n  function OptionController(object, property, opts) {\n    classCallCheck(this, OptionController);\n    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));\n    var options = opts;\n    var _this = _this2;\n    _this2.__select = document.createElement('select');\n    if (Common.isArray(options)) {\n      var map = {};\n      Common.each(options, function (element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n    Common.each(options, function (value, key) {\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n    _this2.updateDisplay();\n    dom.bind(_this2.__select, 'change', function () {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n    _this2.domElement.appendChild(_this2.__select);\n    return _this2;\n  }\n  createClass(OptionController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (dom.isActive(this.__select)) return this;\n      this.__select.value = this.getValue();\n      return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return OptionController;\n}(Controller);\n\nvar StringController = function (_Controller) {\n  inherits(StringController, _Controller);\n  function StringController(object, property) {\n    classCallCheck(this, StringController);\n    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));\n    var _this = _this2;\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'keyup', onChange);\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(StringController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (!dom.isActive(this.__input)) {\n        this.__input.value = this.getValue();\n      }\n      return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return StringController;\n}(Controller);\n\nfunction numDecimals(x) {\n  var _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n  return 0;\n}\nvar NumberController = function (_Controller) {\n  inherits(NumberController, _Controller);\n  function NumberController(object, property, params) {\n    classCallCheck(this, NumberController);\n    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));\n    var _params = params || {};\n    _this.__min = _params.min;\n    _this.__max = _params.max;\n    _this.__step = _params.step;\n    if (Common.isUndefined(_this.__step)) {\n      if (_this.initialValue === 0) {\n        _this.__impliedStep = 1;\n      } else {\n        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      _this.__impliedStep = _this.__step;\n    }\n    _this.__precision = numDecimals(_this.__impliedStep);\n    return _this;\n  }\n  createClass(NumberController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var _v = v;\n      if (this.__min !== undefined && _v < this.__min) {\n        _v = this.__min;\n      } else if (this.__max !== undefined && _v > this.__max) {\n        _v = this.__max;\n      }\n      if (this.__step !== undefined && _v % this.__step !== 0) {\n        _v = Math.round(_v / this.__step) * this.__step;\n      }\n      return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);\n    }\n  }, {\n    key: 'min',\n    value: function min(minValue) {\n      this.__min = minValue;\n      return this;\n    }\n  }, {\n    key: 'max',\n    value: function max(maxValue) {\n      this.__max = maxValue;\n      return this;\n    }\n  }, {\n    key: 'step',\n    value: function step(stepValue) {\n      this.__step = stepValue;\n      this.__impliedStep = stepValue;\n      this.__precision = numDecimals(stepValue);\n      return this;\n    }\n  }]);\n  return NumberController;\n}(Controller);\n\nfunction roundToDecimal(value, decimals) {\n  var tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\nvar NumberControllerBox = function (_NumberController) {\n  inherits(NumberControllerBox, _NumberController);\n  function NumberControllerBox(object, property, params) {\n    classCallCheck(this, NumberControllerBox);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));\n    _this2.__truncationSuspended = false;\n    var _this = _this2;\n    var prevY = void 0;\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!Common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onBlur() {\n      onFinish();\n    }\n    function onMouseDrag(e) {\n      var diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n      prevY = e.clientY;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'mousedown', onMouseDown);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(NumberControllerBox, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n      return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerBox;\n}(NumberController);\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\nvar NumberControllerSlider = function (_NumberController) {\n  inherits(NumberControllerSlider, _NumberController);\n  function NumberControllerSlider(object, property, min, max, step) {\n    classCallCheck(this, NumberControllerSlider);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, { min: min, max: max, step: step }));\n    var _this = _this2;\n    _this2.__background = document.createElement('div');\n    _this2.__foreground = document.createElement('div');\n    dom.bind(_this2.__background, 'mousedown', onMouseDown);\n    dom.bind(_this2.__background, 'touchstart', onTouchStart);\n    dom.addClass(_this2.__background, 'slider');\n    dom.addClass(_this2.__foreground, 'slider-fg');\n    function onMouseDown(e) {\n      document.activeElement.blur();\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      onMouseDrag(e);\n    }\n    function onMouseDrag(e) {\n      e.preventDefault();\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n      return false;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) {\n        return;\n      }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n    function onTouchMove(e) {\n      var clientX = e.touches[0].clientX;\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n    }\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.updateDisplay();\n    _this2.__background.appendChild(_this2.__foreground);\n    _this2.domElement.appendChild(_this2.__background);\n    return _this2;\n  }\n  createClass(NumberControllerSlider, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n      this.__foreground.style.width = pct * 100 + '%';\n      return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerSlider;\n}(NumberController);\n\nvar FunctionController = function (_Controller) {\n  inherits(FunctionController, _Controller);\n  function FunctionController(object, property, text) {\n    classCallCheck(this, FunctionController);\n    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__button = document.createElement('div');\n    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(_this2.__button, 'click', function (e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n    dom.addClass(_this2.__button, 'button');\n    _this2.domElement.appendChild(_this2.__button);\n    return _this2;\n  }\n  createClass(FunctionController, [{\n    key: 'fire',\n    value: function fire() {\n      if (this.__onChange) {\n        this.__onChange.call(this);\n      }\n      this.getValue().call(this.object);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n    }\n  }]);\n  return FunctionController;\n}(Controller);\n\nvar ColorController = function (_Controller) {\n  inherits(ColorController, _Controller);\n  function ColorController(object, property) {\n    classCallCheck(this, ColorController);\n    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));\n    _this2.__color = new Color(_this2.getValue());\n    _this2.__temp = new Color(0);\n    var _this = _this2;\n    _this2.domElement = document.createElement('div');\n    dom.makeSelectable(_this2.domElement, false);\n    _this2.__selector = document.createElement('div');\n    _this2.__selector.className = 'selector';\n    _this2.__saturation_field = document.createElement('div');\n    _this2.__saturation_field.className = 'saturation-field';\n    _this2.__field_knob = document.createElement('div');\n    _this2.__field_knob.className = 'field-knob';\n    _this2.__field_knob_border = '2px solid ';\n    _this2.__hue_knob = document.createElement('div');\n    _this2.__hue_knob.className = 'hue-knob';\n    _this2.__hue_field = document.createElement('div');\n    _this2.__hue_field.className = 'hue-field';\n    _this2.__input = document.createElement('input');\n    _this2.__input.type = 'text';\n    _this2.__input_textShadow = '0 1px 1px ';\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        onBlur.call(this);\n      }\n    });\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__selector, 'mousedown', function ()        {\n      dom.addClass(this, 'drag').bind(window, 'mouseup', function ()        {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    dom.bind(_this2.__selector, 'touchstart', function ()        {\n      dom.addClass(this, 'drag').bind(window, 'touchend', function ()        {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    var valueField = document.createElement('div');\n    Common.extend(_this2.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n    Common.extend(_this2.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    Common.extend(_this2.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n    Common.extend(_this2.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n    Common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n    Common.extend(_this2.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n    hueGradient(_this2.__hue_field);\n    Common.extend(_this2.__input.style, {\n      outline: 'none',\n      textAlign: 'center',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n    dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);\n    dom.bind(_this2.__field_knob, 'mousedown', fieldDown);\n    dom.bind(_this2.__field_knob, 'touchstart', fieldDown);\n    dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n    _this2.__saturation_field.appendChild(valueField);\n    _this2.__selector.appendChild(_this2.__field_knob);\n    _this2.__selector.appendChild(_this2.__saturation_field);\n    _this2.__selector.appendChild(_this2.__hue_field);\n    _this2.__hue_field.appendChild(_this2.__hue_knob);\n    _this2.domElement.appendChild(_this2.__input);\n    _this2.domElement.appendChild(_this2.__selector);\n    _this2.updateDisplay();\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__saturation_field.getBoundingClientRect();\n      var _ref = e.touches && e.touches[0] || e,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n      var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n      _this.__color.v = v;\n      _this.__color.s = s;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__hue_field.getBoundingClientRect();\n      var _ref2 = e.touches && e.touches[0] || e,\n          clientY = _ref2.clientY;\n      var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n      _this.__color.h = h * 360;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    return _this2;\n  }\n  createClass(ColorController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var i = interpret(this.getValue());\n      if (i !== false) {\n        var mismatch = false;\n        Common.each(Color.COMPONENTS, function (component) {\n          if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {\n            mismatch = true;\n            return {};\n          }\n        }, this);\n        if (mismatch) {\n          Common.extend(this.__color.__state, i);\n        }\n      }\n      Common.extend(this.__temp.__state, this.__color.__state);\n      this.__temp.a = 1;\n      var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n      var _flip = 255 - flip;\n      Common.extend(this.__field_knob.style, {\n        marginLeft: 100 * this.__color.s - 7 + 'px',\n        marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n        backgroundColor: this.__temp.toHexString(),\n        border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n      });\n      this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n      this.__temp.s = 1;\n      this.__temp.v = 1;\n      linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n      this.__input.value = this.__color.toString();\n      Common.extend(this.__input.style, {\n        backgroundColor: this.__color.toHexString(),\n        color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n        textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n      });\n    }\n  }]);\n  return ColorController;\n}(Controller);\nvar vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  Common.each(vendors, function (vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nvar css = {\n  load: function load(url, indoc) {\n    var doc = indoc || document;\n    var link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n  inject: function inject(cssContent, indoc) {\n    var doc = indoc || document;\n    var injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    var head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) {\n    }\n  }\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory(object, property) {\n  var initialValue = object[property];\n  if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n  if (Common.isNumber(initialValue)) {\n    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {\n      if (Common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);\n      }\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n    if (Common.isNumber(arguments[4])) {\n      return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n  if (Common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n  if (Common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n  if (Common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n  return null;\n};\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n  function CenteredDiv() {\n    classCallCheck(this, CenteredDiv);\n    this.backgroundElement = document.createElement('div');\n    Common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n    this.domElement = document.createElement('div');\n    Common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function () {\n      _this.hide();\n    });\n  }\n  createClass(CenteredDiv, [{\n    key: 'show',\n    value: function show() {\n      var _this = this;\n      this.backgroundElement.style.display = 'block';\n      this.domElement.style.display = 'block';\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n      this.layout();\n      Common.defer(function () {\n        _this.backgroundElement.style.opacity = 1;\n        _this.domElement.style.opacity = 1;\n        _this.domElement.style.webkitTransform = 'scale(1)';\n      });\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      var _this = this;\n      var hide = function hide() {\n        _this.domElement.style.display = 'none';\n        _this.backgroundElement.style.display = 'none';\n        dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n        dom.unbind(_this.domElement, 'transitionend', hide);\n        dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n      };\n      dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n      dom.bind(this.domElement, 'transitionend', hide);\n      dom.bind(this.domElement, 'oTransitionEnd', hide);\n      this.backgroundElement.style.opacity = 0;\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n    }\n  }, {\n    key: 'layout',\n    value: function layout() {\n      this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n      this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n    }\n  }]);\n  return CenteredDiv;\n}();\n\nvar styleSheet = ___$insertStyle(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n\ncss.inject(styleSheet);\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI(pars) {\n  var _this = this;\n  var params = pars || {};\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n  this.__folders = {};\n  this.__controllers = [];\n  this.__rememberedObjects = [];\n  this.__rememberedObjectIndecesToControllers = [];\n  this.__listening = [];\n  params = Common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n  params = Common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n  if (!Common.isUndefined(params.load)) {\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n  if (Common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n  params.resizable = Common.isUndefined(params.parent) && params.resizable;\n  if (params.autoPlace && Common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n  var saveToLocalStorage = void 0;\n  var titleRow = void 0;\n  Object.defineProperties(this,\n  {\n    parent: {\n      get: function get$$1() {\n        return params.parent;\n      }\n    },\n    scrollable: {\n      get: function get$$1() {\n        return params.scrollable;\n      }\n    },\n    autoPlace: {\n      get: function get$$1() {\n        return params.autoPlace;\n      }\n    },\n    closeOnTop: {\n      get: function get$$1() {\n        return params.closeOnTop;\n      }\n    },\n    preset: {\n      get: function get$$1() {\n        if (_this.parent) {\n          return _this.getRoot().preset;\n        }\n        return params.load.preset;\n      },\n      set: function set$$1(v) {\n        if (_this.parent) {\n          _this.getRoot().preset = v;\n        } else {\n          params.load.preset = v;\n        }\n        setPresetSelectIndex(this);\n        _this.revert();\n      }\n    },\n    width: {\n      get: function get$$1() {\n        return params.width;\n      },\n      set: function set$$1(v) {\n        params.width = v;\n        setWidth(_this, v);\n      }\n    },\n    name: {\n      get: function get$$1() {\n        return params.name;\n      },\n      set: function set$$1(v) {\n        params.name = v;\n        if (titleRow) {\n          titleRow.innerHTML = params.name;\n        }\n      }\n    },\n    closed: {\n      get: function get$$1() {\n        return params.closed;\n      },\n      set: function set$$1(v) {\n        params.closed = v;\n        if (params.closed) {\n          dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n        } else {\n          dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n        }\n        this.onResize();\n        if (_this.__closeButton) {\n          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n        }\n      }\n    },\n    load: {\n      get: function get$$1() {\n        return params.load;\n      }\n    },\n    useLocalStorage: {\n      get: function get$$1() {\n        return useLocalStorage;\n      },\n      set: function set$$1(bool) {\n        if (SUPPORTS_LOCAL_STORAGE) {\n          useLocalStorage = bool;\n          if (bool) {\n            dom.bind(window, 'unload', saveToLocalStorage);\n          } else {\n            dom.unbind(window, 'unload', saveToLocalStorage);\n          }\n          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n        }\n      }\n    }\n  });\n  if (Common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n    dom.bind(this.__closeButton, 'click', function () {\n      _this.closed = !_this.closed;\n    });\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n    var titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n    titleRow = addRow(_this, titleRowName);\n    var onClickTitle = function onClickTitle(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n  if (params.autoPlace) {\n    if (Common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n      autoPlaceContainer.appendChild(this.domElement);\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n  this.__resizeHandler = function () {\n    _this.onResizeDebounced();\n  };\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n  saveToLocalStorage = function saveToLocalStorage() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n  function resetWidth() {\n    var root = _this.getRoot();\n    root.width += 1;\n    Common.defer(function () {\n      root.width -= 1;\n    });\n  }\n  if (!params.parent) {\n    resetWidth();\n  }\n};\nGUI.toggleHide = function () {\n  hide = !hide;\n  Common.each(hideableGuis, function (gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function (e) {\n  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\nCommon.extend(GUI.prototype,\n{\n  add: function add(object, property) {\n    return _add(this, object, property, {\n      factoryArgs: Array.prototype.slice.call(arguments, 2)\n    });\n  },\n  addColor: function addColor(object, property) {\n    return _add(this, object, property, {\n      color: true\n    });\n  },\n  remove: function remove(controller) {\n    this.__ul.removeChild(controller.__li);\n    this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n    var _this = this;\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  destroy: function destroy() {\n    if (this.parent) {\n      throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');\n    }\n    if (this.autoPlace) {\n      autoPlaceContainer.removeChild(this.domElement);\n    }\n    var _this = this;\n    Common.each(this.__folders, function (subfolder) {\n      _this.removeFolder(subfolder);\n    });\n    dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n    removeListeners(this);\n  },\n  addFolder: function addFolder(name) {\n    if (this.__folders[name] !== undefined) {\n      throw new Error('You already have a folder in this GUI by the' + ' name \"' + name + '\"');\n    }\n    var newGuiParams = { name: name, parent: this };\n    newGuiParams.autoPlace = this.autoPlace;\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[name]) {\n      newGuiParams.closed = this.load.folders[name].closed;\n      newGuiParams.load = this.load.folders[name];\n    }\n    var gui = new GUI(newGuiParams);\n    this.__folders[name] = gui;\n    var li = addRow(this, gui.domElement);\n    dom.addClass(li, 'folder');\n    return gui;\n  },\n  removeFolder: function removeFolder(folder) {\n    this.__ul.removeChild(folder.domElement.parentElement);\n    delete this.__folders[folder.name];\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[folder.name]) {\n      delete this.load.folders[folder.name];\n    }\n    removeListeners(folder);\n    var _this = this;\n    Common.each(folder.__folders, function (subfolder) {\n      folder.removeFolder(subfolder);\n    });\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  open: function open() {\n    this.closed = false;\n  },\n  close: function close() {\n    this.closed = true;\n  },\n  hide: function hide() {\n    this.domElement.style.display = 'none';\n  },\n  show: function show() {\n    this.domElement.style.display = '';\n  },\n  onResize: function onResize() {\n    var root = this.getRoot();\n    if (root.scrollable) {\n      var top = dom.getOffset(root.__ul).top;\n      var h = 0;\n      Common.each(root.__ul.childNodes, function (node) {\n        if (!(root.autoPlace && node === root.__save_row)) {\n          h += dom.getHeight(node);\n        }\n      });\n      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n        dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n      } else {\n        dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = 'auto';\n      }\n    }\n    if (root.__resize_handle) {\n      Common.defer(function () {\n        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n      });\n    }\n    if (root.__closeButton) {\n      root.__closeButton.style.width = root.width + 'px';\n    }\n  },\n  onResizeDebounced: Common.debounce(function () {\n    this.onResize();\n  }, 50),\n  remember: function remember() {\n    if (Common.isUndefined(SAVE_DIALOGUE)) {\n      SAVE_DIALOGUE = new CenteredDiv();\n      SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n    }\n    if (this.parent) {\n      throw new Error('You can only call remember on a top level GUI.');\n    }\n    var _this = this;\n    Common.each(Array.prototype.slice.call(arguments), function (object) {\n      if (_this.__rememberedObjects.length === 0) {\n        addSaveMenu(_this);\n      }\n      if (_this.__rememberedObjects.indexOf(object) === -1) {\n        _this.__rememberedObjects.push(object);\n      }\n    });\n    if (this.autoPlace) {\n      setWidth(this, this.width);\n    }\n  },\n  getRoot: function getRoot() {\n    var gui = this;\n    while (gui.parent) {\n      gui = gui.parent;\n    }\n    return gui;\n  },\n  getSaveObject: function getSaveObject() {\n    var toReturn = this.load;\n    toReturn.closed = this.closed;\n    if (this.__rememberedObjects.length > 0) {\n      toReturn.preset = this.preset;\n      if (!toReturn.remembered) {\n        toReturn.remembered = {};\n      }\n      toReturn.remembered[this.preset] = getCurrentPreset(this);\n    }\n    toReturn.folders = {};\n    Common.each(this.__folders, function (element, key) {\n      toReturn.folders[key] = element.getSaveObject();\n    });\n    return toReturn;\n  },\n  save: function save() {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n    }\n    this.load.remembered[this.preset] = getCurrentPreset(this);\n    markPresetModified(this, false);\n    this.saveToLocalStorageIfPossible();\n  },\n  saveAs: function saveAs(presetName) {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n    }\n    this.load.remembered[presetName] = getCurrentPreset(this);\n    this.preset = presetName;\n    addPresetOption(this, presetName, true);\n    this.saveToLocalStorageIfPossible();\n  },\n  revert: function revert(gui) {\n    Common.each(this.__controllers, function (controller) {\n      if (!this.getRoot().load.remembered) {\n        controller.setValue(controller.initialValue);\n      } else {\n        recallSavedValue(gui || this.getRoot(), controller);\n      }\n      if (controller.__onFinishChange) {\n        controller.__onFinishChange.call(controller, controller.getValue());\n      }\n    }, this);\n    Common.each(this.__folders, function (folder) {\n      folder.revert(folder);\n    });\n    if (!gui) {\n      markPresetModified(this.getRoot(), false);\n    }\n  },\n  listen: function listen(controller) {\n    var init = this.__listening.length === 0;\n    this.__listening.push(controller);\n    if (init) {\n      updateDisplays(this.__listening);\n    }\n  },\n  updateDisplay: function updateDisplay() {\n    Common.each(this.__controllers, function (controller) {\n      controller.updateDisplay();\n    });\n    Common.each(this.__folders, function (folder) {\n      folder.updateDisplay();\n    });\n  }\n});\nfunction addRow(gui, newDom, liBefore) {\n  var li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\nfunction markPresetModified(gui, modified) {\n  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n  Common.extend(controller,                                   {\n    options: function options(_options) {\n      if (arguments.length > 1) {\n        var nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: nextSibling,\n          factoryArgs: [Common.toArray(arguments)]\n        });\n      }\n      if (Common.isArray(_options) || Common.isObject(_options)) {\n        var _nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: _nextSibling,\n          factoryArgs: [_options]\n        });\n      }\n    },\n    name: function name(_name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n      return controller;\n    },\n    listen: function listen() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n    remove: function remove() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n  if (controller instanceof NumberControllerSlider) {\n    var box = new NumberControllerBox(controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step });\n    Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function (method) {\n      var pc = controller[method];\n      var pb = box[method];\n      controller[method] = box[method] = function () {\n        var args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    var r = function r(returned) {\n      if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {\n        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n        controller.remove();\n        var newController = _add(gui, controller.object, controller.property, {\n          before: controller.__li.nextElementSibling,\n          factoryArgs: [controller.__min, controller.__max, controller.__step]\n        });\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n        return newController;\n      }\n      return returned;\n    };\n    controller.min = Common.compose(r, controller.min);\n    controller.max = Common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n    dom.bind(controller.__checkbox, 'click', function (e) {\n      e.stopPropagation();\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n    dom.bind(li, 'mouseover', function () {\n      dom.addClass(controller.__button, 'hover');\n    });\n    dom.bind(li, 'mouseout', function () {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = Common.compose(function (val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n    controller.updateDisplay();\n  }\n  controller.setValue = Common.compose(function (val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n    return val;\n  }, controller.setValue);\n}\nfunction recallSavedValue(gui, controller) {\n  var root = gui.getRoot();\n  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n  if (matchedIndex !== -1) {\n    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n    }\n    controllerMap[controller.property] = controller;\n    if (root.load && root.load.remembered) {\n      var presetMap = root.load.remembered;\n      var preset = void 0;\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        return;\n      }\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        var value = preset[matchedIndex][controller.property];\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\nfunction _add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error('Object \"' + object + '\" has no property \"' + property + '\"');\n  }\n  var controller = void 0;\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    var factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n  recallSavedValue(gui, controller);\n  dom.addClass(controller.domElement, 'c');\n  var name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n  var container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n  var li = addRow(gui, container, params.before);\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, _typeof(controller.getValue()));\n  }\n  augmentController(gui, li, controller);\n  gui.__controllers.push(controller);\n  return controller;\n}\nfunction getLocalStorageHash(gui, key) {\n  return document.location.href + '.' + key;\n}\nfunction addPresetOption(gui, name, setSelected) {\n  var opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\nfunction addSaveMenu(gui) {\n  var div = gui.__save_row = document.createElement('li');\n  dom.addClass(gui.domElement, 'has-save');\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n  dom.addClass(div, 'save-row');\n  var gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n  var button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n  var button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n  var button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n  var select = gui.__preset_select = document.createElement('select');\n  if (gui.load && gui.load.remembered) {\n    Common.each(gui.load.remembered, function (value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n  dom.bind(select, 'change', function () {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n    gui.preset = this.value;\n  });\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n  if (SUPPORTS_LOCAL_STORAGE) {\n    var explain = document.getElementById('dg-local-explain');\n    var localStorageCheckBox = document.getElementById('dg-local-storage');\n    var saveLocally = document.getElementById('dg-save-locally');\n    saveLocally.style.display = 'block';\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n    showHideExplain(gui, explain);\n    dom.bind(localStorageCheckBox, 'change', function () {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n  var newConstructorTextArea = document.getElementById('dg-new-constructor');\n  dom.bind(newConstructorTextArea, 'keydown', function (e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n  dom.bind(gears, 'click', function () {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n  dom.bind(button, 'click', function () {\n    gui.save();\n  });\n  dom.bind(button2, 'click', function () {\n    var presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n  dom.bind(button3, 'click', function () {\n    gui.revert();\n  });\n}\nfunction addResizeHandle(gui) {\n  var pmouseX = void 0;\n  gui.__resize_handle = document.createElement('div');\n  Common.extend(gui.__resize_handle.style, {\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n  });\n  function drag(e) {\n    e.preventDefault();\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n    return false;\n  }\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n  function dragStart(e) {\n    e.preventDefault();\n    pmouseX = e.clientX;\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n    return false;\n  }\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\nfunction getCurrentPreset(gui, useInitialValues) {\n  var toReturn = {};\n  Common.each(gui.__rememberedObjects, function (val, index) {\n    var savedValues = {};\n    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];\n    Common.each(controllerMap, function (controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n    toReturn[index] = savedValues;\n  });\n  return toReturn;\n}\nfunction setPresetSelectIndex(gui) {\n  for (var index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame$1.call(window, function () {\n      updateDisplays(controllerArray);\n    });\n  }\n  Common.each(controllerArray, function (c) {\n    c.updateDisplay();\n  });\n}\n\nvar color = {\n  Color: Color,\n  math: ColorMath,\n  interpret: interpret\n};\nvar controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n  color: color,\n  controllers: controllers,\n  dom: dom$1,\n  gui: gui,\n  GUI: GUI$1\n};\n\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\nexport default index;\n\n","import nomad_shader from './nomad_trippy.frag';\r\nimport * as dat from './dat.gui.module.js';\r\n\r\n// \"use strict\";\r\nfunction createShader(gl, type, source) {\r\n  var shader = gl.createShader(type);\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n  var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n  if (success) {\r\n    return shader;\r\n  }\r\n  console.log(gl.getShaderInfoLog(shader));\r\n  gl.deleteShader(shader);\r\n}\r\n\r\nfunction createProgram(gl, vertexShader, fragmentShader) {\r\n  var program = gl.createProgram();\r\n  gl.attachShader(program, vertexShader);\r\n  gl.attachShader(program, fragmentShader);\r\n  gl.linkProgram(program);\r\n  var success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n  if (success) {\r\n    return program;\r\n  }\r\n\r\n  console.log(gl.getProgramInfoLog(program));\r\n  gl.deleteProgram(program);\r\n}\r\n\r\nvar canvas = document.querySelector(\"#glCanvas\");\r\nvar gl = canvas.getContext(\"webgl\");\r\nif (!gl) {\r\n    // return;\r\n}\r\nfunction resize() {\r\n    canvas.width=gl.canvas.width = window.innerWidth;\r\n    canvas.height = gl.canvas.height=window.innerHeight;\r\n    gl.uniform2f(resolutionUniformLocation, gl.canvas.width, gl.canvas.height);\r\n}    \r\nresize();    \r\nwindow.addEventListener(\"resize\", resize);\r\n\r\n// let nomad_shader;\r\n// function reqListener () {\r\n//   //  console.log(this.responseText);\r\n//    console.log(req.responseText);\r\n//    nomad_shader = req.responseText;\r\n// }\r\n// var req = new XMLHttpRequest();\r\n// req.responseType = \"text\";\r\n// req.addEventListener(\"load\", reqListener);\r\n// req.open(\"GET\", \"/nomad_trippy.frag\");\r\n// req.send();\r\n\r\nvar vertexShaderSource = document.querySelector(\"#vertex-shader-2d\").text;\r\n// var fragmentShaderSource = document.querySelector(\"#fragment-shader-2d\").text;\r\nvar fragmentShaderSource = nomad_shader;\r\nvar vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\r\nvar fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\r\nvar program = createProgram(gl, vertexShader, fragmentShader);\r\n\r\nvar positionAttributeLocation = gl.getAttribLocation(program, \"a_position\");\r\nvar colorUniformLocation = gl.getUniformLocation(program, \"u_color\");  \r\nvar timeUniformLocation = gl.getUniformLocation(program, \"u_time\");  \r\nvar resolutionUniformLocation = gl.getUniformLocation(program, \"u_resolution\");\r\n\r\nvar rotation_xUniformLocation = gl.getUniformLocation(program, \"u_rotation\");\r\nvar eyebrow_angleUniformLocation = gl.getUniformLocation(program, \"eyebrow_angle\");\r\nvar eyebrow_weightUniformLocation = gl.getUniformLocation(program, \"eyebrow_weight\");\r\nvar eyebrow_offsetUniformLocation = gl.getUniformLocation(program, \"eyebrow_offset\");\r\n\r\nvar eye_spaceUniformLocation = gl.getUniformLocation(program, \"eye_space\");\r\nvar eye_sizeUniformLocation = gl.getUniformLocation(program, \"eye_size\");\r\nvar eye_variantUniformLocation = gl.getUniformLocation(program, \"eye_variant\");\r\nvar iris_scaleUniformLocation = gl.getUniformLocation(program, \"iris_scale\");\r\nvar mouth_curveUniformLocation = gl.getUniformLocation(program, \"mouth_curve\");\r\n\r\nvar head_patternUniformLocation = gl.getUniformLocation(program, \"head_pattern\");\r\nvar body_patternUniformLocation = gl.getUniformLocation(program, \"body_pattern\");\r\n\r\nvar positionBuffer = gl.createBuffer();\r\ngl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\ngl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\ngl.useProgram(program);\r\ngl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1,-1, 1, 1, -1, 1,-1,-1,1,1,1,]), gl.STATIC_DRAW); \r\ngl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\r\ngl.enableVertexAttribArray(positionAttributeLocation);\r\ngl.uniform3f(colorUniformLocation, Math.random(), Math.random(), Math.random());\r\ngl.uniform2f(resolutionUniformLocation, gl.canvas.width, gl.canvas.height);      \r\nvar time_old = 0;\r\n\r\nvar draw=function(time){\r\n    var dt = time-time_old;\r\n    time_old = time;\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    gl.uniform1f(timeUniformLocation, time*.001);\r\n    gl.uniform1f(rotation_xUniformLocation, rotation_hor);//settings.rotation_x);\r\n\r\n    gl.uniform1f(eyebrow_angleUniformLocation, settings.eyebrow_angle);\r\n    gl.uniform1f(eyebrow_weightUniformLocation, settings.eyebrow_weight);\r\n    gl.uniform1f(eyebrow_offsetUniformLocation, settings.eyebrow_offset);\r\n    gl.uniform1f(eye_spaceUniformLocation, settings.eye_space);\r\n    gl.uniform1f(eye_sizeUniformLocation, settings.eye_size);\r\n    gl.uniform1f(eye_variantUniformLocation, Math.floor(settings.eye_variant));\r\n    gl.uniform1f(iris_scaleUniformLocation, settings.iris_scale);\r\n    gl.uniform1f(mouth_curveUniformLocation, settings.mouth_curve);\r\n    gl.uniform1f(head_patternUniformLocation, Math.floor(settings.head_pattern));\r\n    gl.uniform1f(body_patternUniformLocation, Math.floor(settings.body_pattern));\r\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\r\n    window.requestAnimationFrame(draw);\r\n    if(Math.random()>.9){\r\n        gl.uniform3f(colorUniformLocation, Math.random(), Math.random(), Math.random());\r\n    }\r\n}\r\n\r\nconst gui = new dat.GUI();\r\nlet settings = {\r\n    eyebrow_angle:0,\r\n    eyebrow_weight:1,\r\n    eyebrow_offset:0,\r\n    eye_space:.5,\r\n    eye_size:1, \r\n    eye_variant:0, \r\n    iris_scale:1,\r\n    mouth_curve:1,\r\n    head_pattern:1,\r\n    body_pattern:1,\r\n    randomize: Randomize\r\n  }\r\nfunction Randomize(){\r\n  settings.eyebrow_angle = rr(-.1,.1);\r\n  settings.eyebrow_weight = rr(0.3, 1.6);\r\n  settings.eyebrow_offset = rr(-0.1, .1);\r\n  settings.eye_space = rr(0.3, .6);\r\n  settings.eye_size = rr(0.2, 1);\r\n  settings.eye_variant = rr(0, 5);\r\n  settings.iris_scale = rr( 0.1, 1);\r\n  settings.mouth_curve = rr( 0.1, 1);\r\n  settings.head_pattern = rr(0, 10);\r\n  settings.body_pattern = rr(0, 11);\r\n  \r\n}\r\ngui.add(settings, 'eyebrow_angle', -.1, .1).step(.01).listen()\r\ngui.add(settings, 'eyebrow_weight', 0.3, 1.6).listen()\r\ngui.add(settings, 'eyebrow_offset', -0.1, .1).listen()\r\ngui.add(settings, 'eye_space', 0.3, .6).listen()\r\ngui.add(settings, 'eye_size', 0.2, 1).listen()\r\ngui.add(settings, 'eye_variant', 0, 5).listen()\r\ngui.add(settings, 'iris_scale', 0.3, 1).listen()\r\ngui.add(settings, 'mouth_curve', 0, 1).listen()\r\ngui.add(settings, 'head_pattern', 0, 10).listen()\r\ngui.add(settings, 'body_pattern', 0, 11).listen()\r\ngui.add(settings, 'randomize');\r\n// main();\r\n\r\n\r\nRandomize();\r\nlet mouse = {x:0, y:0};\r\nlet rotation_hor=0;\r\nlet rotation_hor_prev=0;\r\nlet mouseHold=false;\r\nlet touch_pos=0;\r\nlet delta_x = 0;\r\nfunction onMouseMove(event) {\r\n\t// calculate mouse position in normalized device coordinates\r\n\t// (-1 to +1) for both components\r\n\tmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\r\n\tmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\r\n  if(mouseHold){\r\n    delta_x = (mouse.x-touch_pos)*4;\r\n    rotation_hor = rotation_hor_prev+delta_x;\r\n  }\r\n}\r\nfunction onTouch(event){\r\n  touch_pos = mouse.x;\r\n  mouseHold = true;\r\n}\r\nfunction onTouchUp(event){\r\n  mouseHold = false;  \r\n  rotation_hor_prev = rotation_hor;\r\n}\r\ncanvas.addEventListener( 'mousemove', onMouseMove, false );\r\ncanvas.addEventListener( 'touchmove', onMouseMove, false );\r\ncanvas.addEventListener( 'touchstart', onTouch);\r\ncanvas.addEventListener( 'mousedown', onTouch);\r\ncanvas.addEventListener( 'mouseup', onTouchUp);\r\ncanvas.addEventListener( 'touchend', onTouchUp);\r\ndraw(0);\r\n\r\nfunction rr(min, max){\r\n  return min+Math.random()*(max-min);\r\n}","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}